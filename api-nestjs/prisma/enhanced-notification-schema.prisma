// ============================================================================
// ENHANCED NOTIFICATION & COMMUNICATION SYSTEM SCHEMA
// ============================================================================

// ============================================================================
// CORE NOTIFICATION MODELS
// ============================================================================

model Notification {
  id                    String                @id @default(cuid())
  
  // Basic Information
  type                  String                // NotificationType enum
  category              String                // TRANSACTIONAL, MARKETING, SYSTEM, SECURITY
  priority              String                @default("MEDIUM") // LOW, MEDIUM, HIGH, URGENT
  status                String                @default("PENDING") // PENDING, QUEUED, PROCESSING, SENT, DELIVERED, FAILED, BOUNCED, CANCELLED
  
  // Recipients & Channels
  recipients            Json                  // Array of NotificationRecipient objects
  channels              String[]              // Array of channels to deliver through
  
  // Content & Context
  templateId            String?
  templateVariables     Json                  @default("{}")
  renderedContent       Json?                 // Cached rendered content per channel
  
  // Scheduling & Lifecycle
  scheduledAt           DateTime?
  expiresAt             DateTime?
  processedAt           DateTime?
  completedAt           DateTime?
  
  // Tracking & Metadata
  correlationId         String?               // For tracing related notifications
  causationId           String?               // Event that caused this notification
  idempotencyKey        String?               @unique
  batchId               String?               // For bulk notifications
  
  // Context Information
  tenantId              String?
  userId                String?               // Primary recipient user ID
  source                String                // Service that created the notification
  metadata              Json                  @default("{}")
  
  // Audit Fields
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  version               Int                   @default(1)
  
  // Relations
  user                  User?                 @relation("NotificationUser", fields: [userId], references: [id], onDelete: Cascade)
  tenant                Tenant?               @relation("NotificationTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  template              NotificationTemplate? @relation(fields: [templateId], references: [id])
  deliveries            NotificationDelivery[]
  events                NotificationEvent[]
  batch                 NotificationBatch?    @relation(fields: [batchId], references: [id])
  
  // Indexes for performance
  @@index([type, status])
  @@index([userId, status])
  @@index([tenantId, status])
  @@index([scheduledAt])
  @@index([expiresAt])
  @@index([correlationId])
  @@index([batchId])
  @@index([createdAt])
  
  @@map("notifications")
}

model NotificationDelivery {
  id                    String                @id @default(cuid())
  notificationId        String
  
  // Delivery Details
  channel               String                // EMAIL, SMS, PUSH, WEBHOOK, IN_APP
  recipient             Json                  // NotificationRecipient object
  status                String                @default("PENDING") // PENDING, SENT, DELIVERED, FAILED, BOUNCED
  
  // Message Information
  messageId             String?               // External provider message ID
  subject               String?
  content               String?
  htmlContent           String?
  
  // Delivery Tracking
  sentAt                DateTime?
  deliveredAt           DateTime?
  openedAt              DateTime?
  clickedAt             DateTime?
  bouncedAt             DateTime?
  unsubscribedAt        DateTime?
  
  // Error Handling
  attempts              Int                   @default(0)
  maxAttempts           Int                   @default(3)
  nextRetryAt           DateTime?
  errorCode             String?
  errorMessage          String?
  errorDetails          Json?
  
  // Provider Information
  providerId            String?               // Which provider was used
  providerMessageId     String?               // Provider's message ID
  providerResponse      Json?                 // Full provider response
  
  // Costs & Analytics
  cost                  Decimal?              @db.Decimal(10, 4) // Cost in cents
  currency              String?               @default("USD")
  
  // Metadata
  metadata              Json                  @default("{}")
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  notification          Notification          @relation(fields: [notificationId], references: [id], onDelete: Cascade)
  
  // Indexes
  @@index([notificationId])
  @@index([channel, status])
  @@index([status, nextRetryAt])
  @@index([sentAt])
  @@index([deliveredAt])
  
  @@map("notification_deliveries")
}

model NotificationTemplate {
  id                    String                @id @default(cuid())
  
  // Template Identity
  name                  String
  type                  String                // NotificationType
  channel               String                // EMAIL, SMS, PUSH, WEBHOOK, IN_APP
  category              String                // TRANSACTIONAL, MARKETING, SYSTEM, SECURITY
  
  // Localization
  locale                String                @default("en")
  
  // Content
  subject               String?               // For email/push
  title                 String?               // For push/in-app
  content               String                // Main content (supports templating)
  htmlContent           String?               // HTML version for email
  
  // Template Configuration
  variables             String[]              @default([]) // Required variables
  defaultVariables      Json                  @default("{}")
  
  // Layout & Styling
  layoutId              String?
  styles                Json?                 // CSS/styling information
  
  // Status & Versioning
  status                String                @default("DRAFT") // DRAFT, ACTIVE, ARCHIVED
  version               Int                   @default(1)
  isDefault             Boolean               @default(false)
  
  // Tenant & Permissions
  tenantId              String?
  isGlobal              Boolean               @default(false)
  
  // A/B Testing
  testGroup             String?               // For A/B testing
  testPercentage        Int?                  // Percentage of users to receive this variant
  
  // Metadata
  description           String?
  tags                  String[]              @default([])
  metadata              Json                  @default("{}")
  
  // Audit
  createdBy             String
  updatedBy             String?
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("TemplateTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  creator               User                  @relation("TemplateCreator", fields: [createdBy], references: [id])
  updater               User?                 @relation("TemplateUpdater", fields: [updatedBy], references: [id])
  layout                NotificationLayout?   @relation(fields: [layoutId], references: [id])
  notifications         Notification[]
  localizations         NotificationTemplateLocalization[]
  
  // Constraints
  @@unique([type, channel, locale, tenantId])
  @@index([type, channel])
  @@index([tenantId, status])
  @@index([status, isDefault])
  
  @@map("notification_templates")
}

model NotificationTemplateLocalization {
  id                    String                @id @default(cuid())
  templateId            String
  locale                String
  
  // Localized Content
  subject               String?
  title                 String?
  content               String
  htmlContent           String?
  
  // Metadata
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  template              NotificationTemplate  @relation(fields: [templateId], references: [id], onDelete: Cascade)
  
  @@unique([templateId, locale])
  @@map("notification_template_localizations")
}

model NotificationLayout {
  id                    String                @id @default(cuid())
  
  // Layout Information
  name                  String
  description           String?
  channel               String                // EMAIL, SMS, PUSH, IN_APP
  
  // Layout Content
  headerContent         String?
  footerContent         String?
  styles                Json?                 // CSS/styling
  
  // Configuration
  isDefault             Boolean               @default(false)
  tenantId              String?
  
  // Audit
  createdBy             String
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("LayoutTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  creator               User                  @relation("LayoutCreator", fields: [createdBy], references: [id])
  templates             NotificationTemplate[]
  
  @@unique([name, channel, tenantId])
  @@map("notification_layouts")
}

// ============================================================================
// USER PREFERENCES & SETTINGS
// ============================================================================

model NotificationPreference {
  id                    String                @id @default(cuid())
  
  // User & Context
  userId                String
  tenantId              String?
  type                  String                // NotificationType or 'ALL'
  category              String?               // TRANSACTIONAL, MARKETING, etc.
  
  // Channel Preferences
  channels              String[]              @default([]) // Enabled channels
  isEnabled             Boolean               @default(true)
  
  // Frequency Control
  frequency             String                @default("IMMEDIATE") // IMMEDIATE, HOURLY, DAILY, WEEKLY
  batchingEnabled       Boolean               @default(false)
  maxBatchSize          Int                   @default(10)
  
  // Quiet Hours
  quietHoursEnabled     Boolean               @default(false)
  quietHoursStart       String?               // HH:mm format
  quietHoursEnd         String?               // HH:mm format
  timezone              String                @default("UTC")
  
  // Advanced Settings
  priority              String?               // Minimum priority to receive
  keywords              String[]              @default([]) // Keyword filters
  excludeKeywords       String[]              @default([]) // Keywords to exclude
  
  // Metadata
  metadata              Json                  @default("{}")
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  user                  User                  @relation(fields: [userId], references: [id], onDelete: Cascade)
  tenant                Tenant?               @relation("PreferenceTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  
  @@unique([userId, type, tenantId])
  @@index([userId, tenantId])
  @@index([type, category])
  
  @@map("notification_preferences")
}

model NotificationSubscription {
  id                    String                @id @default(cuid())
  
  // Subscription Details
  userId                String?
  email                 String?
  phone                 String?
  deviceToken           String?
  
  // Subscription Type
  type                  String                // EMAIL_LIST, SMS_LIST, PUSH_DEVICE
  status                String                @default("ACTIVE") // ACTIVE, UNSUBSCRIBED, BOUNCED
  
  // Subscription Metadata
  source                String?               // How they subscribed
  ipAddress             String?
  userAgent             String?
  
  // Consent & Compliance
  consentGiven          Boolean               @default(false)
  consentTimestamp      DateTime?
  consentMethod         String?               // EXPLICIT, IMPLIED, LEGITIMATE_INTEREST
  
  // Unsubscribe Information
  unsubscribedAt        DateTime?
  unsubscribeReason     String?
  unsubscribeMethod     String?               // LINK, REPLY, ADMIN
  
  // Tenant Context
  tenantId              String?
  
  // Audit
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  user                  User?                 @relation("SubscriptionUser", fields: [userId], references: [id], onDelete: Cascade)
  tenant                Tenant?               @relation("SubscriptionTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  
  @@index([email, type])
  @@index([phone, type])
  @@index([deviceToken, type])
  @@index([userId, type])
  @@index([status])
  
  @@map("notification_subscriptions")
}

// ============================================================================
// WEBHOOK SYSTEM
// ============================================================================

model WebhookSubscription {
  id                    String                @id @default(cuid())
  
  // Subscription Details
  name                  String
  url                   String
  events                String[]              // Array of NotificationType values
  
  // Authentication
  secret                String?               // HMAC secret
  headers               Json?                 // Custom headers
  
  // Configuration
  isActive              Boolean               @default(true)
  timeout               Int                   @default(30) // Seconds
  
  // Retry Policy
  maxRetries            Int                   @default(3)
  retryBackoff          String                @default("EXPONENTIAL") // LINEAR, EXPONENTIAL
  retryMultiplier       Float                 @default(2.0)
  maxRetryDelay         Int                   @default(300) // Seconds
  
  // Filtering
  filters               Json?                 // Event filtering rules
  
  // Tenant & User Context
  tenantId              String?
  userId                String?
  
  // Status & Health
  status                String                @default("ACTIVE") // ACTIVE, PAUSED, DISABLED
  lastSuccessAt         DateTime?
  lastFailureAt         DateTime?
  consecutiveFailures   Int                   @default(0)
  
  // Metadata
  description           String?
  tags                  String[]              @default([])
  metadata              Json                  @default("{}")
  
  // Audit
  createdBy             String
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("WebhookTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  user                  User?                 @relation("WebhookUser", fields: [userId], references: [id], onDelete: Cascade)
  creator               User                  @relation("WebhookCreator", fields: [createdBy], references: [id])
  deliveries            WebhookDelivery[]
  
  @@index([tenantId, status])
  @@index([userId, status])
  @@index([status])
  
  @@map("webhook_subscriptions")
}

model WebhookDelivery {
  id                    String                @id @default(cuid())
  subscriptionId        String
  
  // Event Information
  eventType             String
  eventId               String?               // Original event ID
  payload               Json
  
  // Delivery Details
  status                String                @default("PENDING") // PENDING, SUCCESS, FAILED, CANCELLED
  httpMethod            String                @default("POST")
  url                   String
  headers               Json?
  
  // Response Information
  responseStatus        Int?
  responseHeaders       Json?
  responseBody          String?
  responseTime          Int?                  // Milliseconds
  
  // Retry Information
  attempts              Int                   @default(0)
  nextRetryAt           DateTime?
  
  // Error Information
  errorCode             String?
  errorMessage          String?
  errorDetails          Json?
  
  // Timestamps
  scheduledAt           DateTime              @default(now())
  sentAt                DateTime?
  completedAt           DateTime?
  
  // Relations
  subscription          WebhookSubscription   @relation(fields: [subscriptionId], references: [id], onDelete: Cascade)
  
  @@index([subscriptionId, status])
  @@index([status, nextRetryAt])
  @@index([eventType])
  @@index([scheduledAt])
  
  @@map("webhook_deliveries")
}

// ============================================================================
// BATCH PROCESSING & CAMPAIGNS
// ============================================================================

model NotificationBatch {
  id                    String                @id @default(cuid())
  
  // Batch Information
  name                  String?
  type                  String                // BULK_NOTIFICATION, CAMPAIGN, SCHEDULED
  status                String                @default("PENDING") // PENDING, PROCESSING, COMPLETED, FAILED, CANCELLED
  
  // Processing Details
  totalRecipients       Int                   @default(0)
  processedRecipients   Int                   @default(0)
  successfulDeliveries  Int                   @default(0)
  failedDeliveries      Int                   @default(0)
  
  // Configuration
  batchSize             Int                   @default(1000)
  delayBetweenBatches   Int                   @default(1000) // Milliseconds
  
  // Scheduling
  scheduledAt           DateTime?
  startedAt             DateTime?
  completedAt           DateTime?
  
  // Tenant Context
  tenantId              String?
  
  // Metadata
  metadata              Json                  @default("{}")
  
  // Audit
  createdBy             String
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("BatchTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  creator               User                  @relation("BatchCreator", fields: [createdBy], references: [id])
  notifications         Notification[]
  
  @@index([status])
  @@index([tenantId, status])
  @@index([scheduledAt])
  
  @@map("notification_batches")
}

// ============================================================================
// RATE LIMITING & THROTTLING
// ============================================================================

model NotificationRateLimit {
  id                    String                @id @default(cuid())
  
  // Rate Limit Configuration
  name                  String
  channel               String                // EMAIL, SMS, PUSH, etc.
  scope                 String                // GLOBAL, TENANT, USER
  scopeId               String?               // Tenant ID or User ID
  
  // Limits
  maxPerMinute          Int?
  maxPerHour            Int?
  maxPerDay             Int?
  maxPerMonth           Int?
  burstLimit            Int?                  // Maximum burst size
  
  // Current Usage (reset periodically)
  currentMinute         Int                   @default(0)
  currentHour           Int                   @default(0)
  currentDay            Int                   @default(0)
  currentMonth          Int                   @default(0)
  
  // Reset Timestamps
  lastResetMinute       DateTime              @default(now())
  lastResetHour         DateTime              @default(now())
  lastResetDay          DateTime              @default(now())
  lastResetMonth        DateTime              @default(now())
  
  // Status
  isActive              Boolean               @default(true)
  
  // Tenant Context
  tenantId              String?
  
  // Audit
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("RateLimitTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  
  @@unique([channel, scope, scopeId, tenantId])
  @@index([channel, scope])
  @@index([tenantId])
  
  @@map("notification_rate_limits")
}

// ============================================================================
// ANALYTICS & REPORTING
// ============================================================================

model NotificationMetrics {
  id                    String                @id @default(cuid())
  
  // Metric Dimensions
  date                  DateTime              // Date for the metrics
  hour                  Int?                  // Hour (0-23) for hourly metrics
  
  // Grouping Dimensions
  tenantId              String?
  userId                String?
  type                  String?               // NotificationType
  channel               String?               // Channel
  category              String?               // TRANSACTIONAL, MARKETING, etc.
  
  // Delivery Metrics
  sent                  Int                   @default(0)
  delivered             Int                   @default(0)
  failed                Int                   @default(0)
  bounced               Int                   @default(0)
  
  // Engagement Metrics
  opened                Int                   @default(0)
  clicked               Int                   @default(0)
  unsubscribed          Int                   @default(0)
  
  // Performance Metrics
  avgProcessingTime     Float?                // Average processing time in ms
  avgDeliveryTime       Float?                // Average delivery time in ms
  
  // Cost Metrics
  totalCost             Decimal?              @db.Decimal(10, 4)
  currency              String?               @default("USD")
  
  // Metadata
  metadata              Json                  @default("{}")
  createdAt             DateTime              @default(now())
  
  // Relations
  tenant                Tenant?               @relation("MetricsTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  user                  User?                 @relation("MetricsUser", fields: [userId], references: [id], onDelete: Cascade)
  
  @@unique([date, hour, tenantId, userId, type, channel, category])
  @@index([date, tenantId])
  @@index([date, type])
  @@index([date, channel])
  
  @@map("notification_metrics")
}

// ============================================================================
// EVENT TRACKING & AUDIT
// ============================================================================

model NotificationEvent {
  id                    String                @id @default(cuid())
  notificationId        String
  
  // Event Details
  eventType             String                // CREATED, QUEUED, SENT, DELIVERED, OPENED, CLICKED, BOUNCED, FAILED
  channel               String?
  
  // Event Data
  data                  Json?
  
  // Context
  ipAddress             String?
  userAgent             String?
  
  // Timestamp
  timestamp             DateTime              @default(now())
  
  // Relations
  notification          Notification          @relation(fields: [notificationId], references: [id], onDelete: Cascade)
  
  @@index([notificationId])
  @@index([eventType])
  @@index([timestamp])
  
  @@map("notification_events")
}

model NotificationAuditLog {
  id                    String                @id @default(cuid())
  
  // Audit Information
  entityType            String                // NOTIFICATION, TEMPLATE, PREFERENCE, etc.
  entityId              String
  action                String                // CREATE, UPDATE, DELETE, SEND, etc.
  
  // Changes
  oldValues             Json?
  newValues             Json?
  changes               Json?
  
  // Context
  userId                String?
  tenantId              String?
  ipAddress             String?
  userAgent             String?
  
  // Metadata
  metadata              Json                  @default("{}")
  timestamp             DateTime              @default(now())
  
  // Relations
  user                  User?                 @relation("AuditUser", fields: [userId], references: [id])
  tenant                Tenant?               @relation("AuditTenant", fields: [tenantId], references: [id])
  
  @@index([entityType, entityId])
  @@index([userId])
  @@index([tenantId])
  @@index([timestamp])
  
  @@map("notification_audit_logs")
}

// ============================================================================
// NOTIFICATION RULES & AUTOMATION
// ============================================================================

model NotificationRule {
  id                    String                @id @default(cuid())
  
  // Rule Information
  name                  String
  description           String?
  isActive              Boolean               @default(true)
  
  // Trigger Configuration
  eventType             String                // Domain event type
  conditions            Json                  @default("{}") // Conditions to match
  
  // Action Configuration
  notificationType      String                // NotificationType to send
  channels              String[]              // Channels to use
  priority              String                @default("MEDIUM")
  
  // Template & Content
  templateOverrides     Json?                 // Template variable overrides
  
  // Tenant Context
  tenantId              String?
  
  // Execution Stats
  executionCount        Int                   @default(0)
  lastExecutedAt        DateTime?
  
  // Audit
  createdBy             String
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("RuleTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  creator               User                  @relation("RuleCreator", fields: [createdBy], references: [id])
  
  @@index([eventType, isActive])
  @@index([tenantId, isActive])
  
  @@map("notification_rules")
}

// ============================================================================
// PROVIDER CONFIGURATION
// ============================================================================

model NotificationProvider {
  id                    String                @id @default(cuid())
  
  // Provider Information
  name                  String
  type                  String                // EMAIL, SMS, PUSH
  provider              String                // SES, SENDGRID, TWILIO, FCM, etc.
  
  // Configuration
  config                Json                  @default("{}")
  credentials           Json                  @default("{}") // Encrypted
  
  // Status & Health
  isActive              Boolean               @default(true)
  isDefault             Boolean               @default(false)
  priority              Int                   @default(0)
  
  // Rate Limits
  rateLimit             Json?                 // Provider-specific rate limits
  
  // Health Monitoring
  lastHealthCheck       DateTime?
  healthStatus          String?               // HEALTHY, DEGRADED, UNHEALTHY
  
  // Tenant Context
  tenantId              String?
  
  // Audit
  createdBy             String
  createdAt             DateTime              @default(now())
  updatedAt             DateTime              @updatedAt
  
  // Relations
  tenant                Tenant?               @relation("ProviderTenant", fields: [tenantId], references: [id], onDelete: Cascade)
  creator               User                  @relation("ProviderCreator", fields: [createdBy], references: [id])
  
  @@unique([name, type, tenantId])
  @@index([type, isActive])
  @@index([tenantId, type])
  
  @@map("notification_providers")
}

// ============================================================================
// ADDITIONAL RELATIONS TO EXISTING MODELS
// ============================================================================

// Add these relations to existing models:

// User model additions:
// notifications         Notification[]        @relation("NotificationUser")
// subscriptions         NotificationSubscription[] @relation("SubscriptionUser")
// webhookSubscriptions  WebhookSubscription[] @relation("WebhookUser")
// webhooksCreated       WebhookSubscription[] @relation("WebhookCreator")
// templatesCreated      NotificationTemplate[] @relation("TemplateCreator")
// templatesUpdated      NotificationTemplate[] @relation("TemplateUpdater")
// layoutsCreated        NotificationLayout[]  @relation("LayoutCreator")
// batchesCreated        NotificationBatch[]   @relation("BatchCreator")
// rulesCreated          NotificationRule[]    @relation("RuleCreator")
// providersCreated      NotificationProvider[] @relation("ProviderCreator")
// auditLogs             NotificationAuditLog[] @relation("AuditUser")
// metrics               NotificationMetrics[] @relation("MetricsUser")

// Tenant model additions:
// notifications         Notification[]        @relation("NotificationTenant")
// templates             NotificationTemplate[] @relation("TemplateTenant")
// layouts               NotificationLayout[]  @relation("LayoutTenant")
// preferences           NotificationPreference[] @relation("PreferenceTenant")
// subscriptions         NotificationSubscription[] @relation("SubscriptionTenant")
// webhookSubscriptions  WebhookSubscription[] @relation("WebhookTenant")
// batches               NotificationBatch[]   @relation("BatchTenant")
// rateLimits            NotificationRateLimit[] @relation("RateLimitTenant")
// rules                 NotificationRule[]    @relation("RuleTenant")
// providers             NotificationProvider[] @relation("ProviderTenant")
// auditLogs             NotificationAuditLog[] @relation("AuditTenant")
// metrics               NotificationMetrics[] @relation("MetricsTenant")

// ============================================================================
// NOTIFICATION SYSTEM ENUMS
// ============================================================================

enum NotificationType {
  // Order Events
  ORDER_CONFIRMATION
  ORDER_SHIPPED
  ORDER_DELIVERED
  ORDER_CANCELLED
  ORDER_RETURNED
  ORDER_REFUNDED
  ORDER_DELAYED
  ORDER_READY_FOR_PICKUP

  // Payment Events
  PAYMENT_SUCCESS
  PAYMENT_FAILED
  PAYMENT_PENDING
  PAYMENT_REFUNDED
  PAYMENT_DISPUTED
  PAYMENT_CHARGEBACK

  // Product Events
  PRODUCT_APPROVED
  PRODUCT_REJECTED
  PRODUCT_OUT_OF_STOCK
  PRODUCT_BACK_IN_STOCK
  LOW_STOCK_ALERT
  PRICE_DROP_ALERT
  WISHLIST_ITEM_AVAILABLE

  // Seller Events
  SELLER_APPLICATION_APPROVED
  SELLER_APPLICATION_REJECTED
  SELLER_PAYOUT_PROCESSED
  SELLER_PAYOUT_FAILED
  SELLER_ACCOUNT_SUSPENDED
  SELLER_PERFORMANCE_ALERT

  // Promotion Events
  PROMOTION_ACTIVATED
  PROMOTION_EXPIRED
  PROMOTION_APPLIED
  FLASH_SALE_STARTED
  COUPON_EXPIRING_SOON

  // System Events
  SYSTEM_MAINTENANCE
  SECURITY_ALERT
  ACCOUNT_LOCKED
  PASSWORD_RESET
  EMAIL_VERIFICATION
  TWO_FACTOR_ENABLED
  LOGIN_FROM_NEW_DEVICE

  // Settlement Events
  SETTLEMENT_PROCESSED
  SETTLEMENT_FAILED
  SETTLEMENT_SCHEDULED
  SETTLEMENT_DELAYED
}

enum NotificationChannel {
  IN_APP
  EMAIL
  SMS
  PUSH
  WEBHOOK
  WHATSAPP
}

enum NotificationPriority {
  LOW
  MEDIUM
  HIGH
  URGENT
}

enum NotificationStatus {
  PENDING
  QUEUED
  PROCESSING
  SENT
  DELIVERED
  OPENED
  CLICKED
  FAILED
  BOUNCED
  CANCELLED
  EXPIRED
}

enum NotificationCategory {
  TRANSACTIONAL
  MARKETING
  SYSTEM
  SECURITY
  OPERATIONAL
}

enum DeliveryStatus {
  PENDING
  SENT
  DELIVERED
  FAILED
  BOUNCED
  OPENED
  CLICKED
  UNSUBSCRIBED
}

enum TemplateStatus {
  DRAFT
  ACTIVE
  ARCHIVED
  TESTING
}

enum PreferenceFrequency {
  IMMEDIATE
  HOURLY
  DAILY
  WEEKLY
  NEVER
}

enum WebhookStatus {
  ACTIVE
  PAUSED
  DISABLED
  FAILED
}

enum BatchStatus {
  PENDING
  PROCESSING
  COMPLETED
  FAILED
  CANCELLED
}